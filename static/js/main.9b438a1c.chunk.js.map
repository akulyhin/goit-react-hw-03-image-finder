{"version":3,"sources":["Components/ImageGallery/Imagegallery.module.css","Components/ImageGalleryItem/Imagegalleryitem.module.css","Components/Modal/Modal.module.css","Components/App.module.css","Components/Button/Button.module.css","Services/PhotoApi.js","Components/Loader.js","Components/Searchbar/Searchbar.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchPhotos","query","page","pageSize","apiKey","url","axios","get","then","res","data","hits","Loaders","style","textAlign","type","color","height","width","Component","Searchbar","state","handleSubmit","e","preventDefault","props","onSubmit","handleInput","setState","target","value","this","className","styles","autoComplete","autoFocus","placeholder","onChange","ImageGallery","children","ImageGalleryItem","getLargeImage","onShowModal","largeImageURL","webURL","src","alt","onClick","Button","onLoadMore","Modal","handleKeyDown","code","onCloseModal","handleCloseOverlay","console","dir","includes","window","addEventListener","removeEventListener","App","photos","loading","error","searchPhotos","search","toggleModal","fetchPhotosService","prevState","catch","finally","scrollTo","top","document","documentElement","offsetHeight","behavior","prevProps","message","map","id","webformatURL","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b438a1c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Imagegallery_container__HquKs\",\"ImageGallery\":\"Imagegallery_ImageGallery__3fiCD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"Imagegalleryitem_ImageGalleryItem__uC89z\",\"ImageGalleryItem-image\":\"Imagegalleryitem_ImageGalleryItem-image__TXn_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2KJ10\",\"Modal\":\"Modal_Modal__10eCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3MBeD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2rkvw\"};","import axios from \"axios\";\r\n\r\nconst fetchPhotos = (query, page, pageSize = 12) => {\r\n  const apiKey = \"19541383-5d00357ab0e5a7bba4cc805df\";\r\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}`;\r\n  return axios.get(url).then((res) => res.data.hits);\r\n};\r\n\r\nexport default fetchPhotos;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class Loaders extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <h3>Loading...</h3>\r\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { query } = this.state;\r\n    this.props.onSubmit({ query });\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <header className={styles[\"Searchbar\"]}>\r\n          <form className={styles[\"SearchForm\"]} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\r\n              <span className={styles[\"SearchForm-button-label\"]}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={styles[\"SearchForm-input\"]}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={query}\r\n              onChange={this.handleInput}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Imagegallery.module.css\";\r\n\r\nexport default function ImageGallery({ children }) {\r\n  return (\r\n    <div className={styles[\"container\"]}>\r\n      <ul className={styles[\"ImageGallery\"]}>{children}</ul>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Imagegalleryitem.module.css\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  getLargeImage = () => {\r\n    this.props.onShowModal(this.props.largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    const { webURL } = this.props;\r\n    return (\r\n      <>\r\n        <li className={styles[\"ImageGalleryItem\"]}>\r\n          <img\r\n            className={styles[\"ImageGalleryItem-image\"]}\r\n            src={webURL}\r\n            alt=\"\"\r\n            onClick={this.getLargeImage}\r\n          />\r\n        </li>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <button\r\n          type=\"button\"\r\n          className={styles[\"Button\"]}\r\n          onClick={this.props.onLoadMore}\r\n        >\r\n          Load More\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    window.addEventListener(\"click\", this.handleCloseOverlay);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    window.removeEventListener(\"click\", this.handleCloseOverlay);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal(null);\r\n    }\r\n  };\r\n\r\n  handleCloseOverlay = (e) => {\r\n    console.dir(e.target);\r\n    if (e.target.className.includes(\"Overlay\")) {\r\n      this.props.onCloseModal(null);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div className={styles[\"Overlay\"]}>\r\n        <div className={styles[\"Modal\"]}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\n\nimport fetchPhotos from \"../Services/PhotoApi\";\nimport Loader from \"./Loader\";\nimport styles from \"./App.module.css\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    photos: [],\n    loading: false,\n    query: \"\",\n    error: null,\n    page: 0,\n    largeImageURL: null,\n  };\n\n  // componentDidMount() {\n  //   this.setState({ loading: true });\n  //   const { page, query } = this.state;\n\n  //   fetchPhotos(query, page)\n  //     .then((photos) => this.setState({ photos }))\n  //     .catch((error) => this.setState({ error }))\n  //     .finally(() => this.setState({ loading: false }));\n  // }\n\n  searchPhotos = (search) => {\n    const { query } = search;\n    this.setState({\n      query: query,\n      photos: [],\n      page: 1,\n    });\n  };\n\n  onShowModal = (largeImageURL) => {\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n  toggleModal = (e) => {\n    this.setState({\n      largeImageURL: e,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchPhotosService();\n    }\n  }\n\n  fetchPhotosService = () => {\n    const { page, query } = this.state;\n    this.setState({ loading: true });\n\n    fetchPhotos(query, page)\n      .then((photos) =>\n        this.setState((prevState) => ({\n          photos: [...prevState.photos, ...photos],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }))\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.offsetHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  render() {\n    const { photos, loading, error, largeImageURL } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.searchPhotos} />\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {loading ? (\n          <Loader />\n        ) : (\n          <ImageGallery>\n            {photos.map(({ id, webformatURL, largeImageURL }) => (\n              <ImageGalleryItem\n                key={id}\n                webURL={webformatURL}\n                largeImageURL={largeImageURL}\n                onShowModal={this.onShowModal}\n              />\n            ))}\n          </ImageGallery>\n        )}\n        {photos.length > 11 && <Button onLoadMore={this.fetchPhotosService} />}\n        {largeImageURL && (\n          <Modal\n            largeImageURL={largeImageURL}\n            onCloseModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ed6x\",\"SearchForm\":\"Searchbar_SearchForm__1UPTb\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2cz1t\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3bMCQ\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2Ou7o\"};"],"sourceRoot":""}